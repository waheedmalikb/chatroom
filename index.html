<!DOCTYPE html>
<html>
<head>
	<title>Chat Room</title>
	<style>
		#chat-area {
			height: 400px;
			overflow-y: scroll;
			border: 1px solid #ccc;
			padding: 10px;
		}
	</style>
</head>
<body>
	<div id="chat-area"></div>
	<div>
		<input type="text" id="user-input" placeholder="Type your message here...">
		<input type="file" id="file-input" style="display: none;">
		<button id="send-btn">Send</button>
		<button id="upload-btn">Upload</button>
	</div>

	<script>
		// Select elements
		var chatArea = document.getElementById("chat-area");
		var userInput = document.getElementById("user-input");
		var fileInput = document.getElementById("file-input");
		var sendBtn = document.getElementById("send-btn");
		var uploadBtn = document.getElementById("upload-btn");

		// Send message function
		function sendMessage(message) {
			// Create new chat message element
			var chatMessage = document.createElement("p");
			chatMessage.innerText = message;

			// Add chat message element to chat area
			chatArea.appendChild(chatMessage);
		}

		// Send media function
		function sendMedia(fileUrl) {
			// Create new media element
			var mediaElement;
			if (fileUrl.endsWith(".mp4")) {
				mediaElement = document.createElement("video");
				mediaElement.setAttribute("controls", "");
			} else {
				mediaElement = document.createElement("img");
			}
			mediaElement.setAttribute("src", fileUrl);

			// Add media element to chat area
			chatArea.appendChild(mediaElement);
		}

		// Add event listener to send button
		sendBtn.addEventListener("click", function(event) {
			event.preventDefault();
			sendMessage(userInput.value);
			userInput.value = "";
		});

		// Add event listener to user input field for "enter" key
		userInput.addEventListener("keyup", function(event) {
			event.preventDefault();
			if (event.keyCode === 13) {
				sendMessage(userInput.value);
				userInput.value = "";
			}
		});

		// Add event listener to upload button
		uploadBtn.addEventListener("click", function(event) {
			event.preventDefault();
			fileInput.click();
		});

		// Add event listener to file input field
		fileInput.addEventListener("change", function(event) {
			event.preventDefault();
			var file = event.target.files[0];
			if (file) {
				var fileReader = new FileReader();
				fileReader.onload = function(event) {
					sendMedia(event.target.result);
				};
				fileReader.readAsDataURL(file);
			}
		});
	</script>
</body>
</html>
